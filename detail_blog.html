<!DOCTYPE html>
<html data-wf-page="673c0bf9babda2cdfd52d5e3" data-wf-site="673c0bf8babda2cdfd52d57b" lang="fr">
<head>
  <meta charset="utf-8">
  <title>Article - Centre d'Apprentissage L'Avenir</title>
  <meta content="Lisez nos articles et découvrez des conseils pour réussir vos études. Centre d'Apprentissage L'Avenir - Votre ressource #1 pour le tutorat personnalisé." name="description">
  <meta content="Article - Centre d'Apprentissage L'Avenir" property="og:title">
  <meta content="Lisez nos articles et découvrez des conseils pour réussir vos études. Centre d'Apprentissage L'Avenir - Votre ressource #1 pour le tutorat personnalisé." property="og:description">
  <meta content="" property="og:image">
  <meta content="Article - Centre d'Apprentissage L'Avenir" property="twitter:title">
  <meta content="Lisez nos articles et découvrez des conseils pour réussir vos études. Centre d'Apprentissage L'Avenir - Votre ressource #1 pour le tutorat personnalisé." property="twitter:description">
  <meta content="" property="twitter:image">
  <meta property="og:type" content="website">
  <meta content="summary_large_image" name="twitter:card">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Centre Reed" name="generator">
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/main.css" rel="stylesheet" type="text/css">
  <link href="css/centre-dapprentissage-lavenir.css" rel="stylesheet" type="text/css">
  <link href="css/responsive-fixes.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">WebFont.load({  google: {    families: ["Newsreader:regular,500,600","Kumbh Sans:regular,700"]  }});</script>
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="images/favicon.jpg" rel="shortcut icon" type="image/x-icon">
  <link href="images/webclip.png" rel="apple-touch-icon">
  <style>
  .w-badge{
  display:none !important;
  }
 </style>
  <!--  Google tag (gtag.js)  -->
  <script async="" src="https://www.googletagmanager.com/gtag/js?id=AW-17529454194"></script>
  <script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'AW-17529454194');
</script>
</head>
<body>
  <!-- Top Banner - Firebase Dynamic Content -->
  <div id="firebase-banner" class="top-banner"></div>
  <div style="opacity:0" class="page-wrapper">
    <div data-collapse="medium" data-animation="over-right" data-duration="500" data-easing="ease-in-out-quart" data-easing2="ease-in-out-quart" data-w-id="58db7844-5919-d71b-dd74-2323ed8dffe9" role="banner" class="header w-nav">
      <div class="container-default header-container w-container">
        <div class="header-wrapper">
          <div class="split-content header-right">
            <a href="index.html" class="brand w-nav-brand"><img src="images/logoreed-2.png" width="220" sizes="220px" srcset="images/logoreed-2-p-500.png 500w, images/logoreed-2-p-800.png 800w, images/logoreed-2.png 838w" alt="" class="header-logo"></a>
          </div>
          <nav role="navigation" class="nav-menu w-nav-menu">
            <ul role="list" class="header-navigation">
              <li class="nav-item-wrapper">
                <a href="index.html" class="nav-link">Accueil</a>
              </li>
              <li class="nav-item-wrapper">
                <a href="about.html" class="nav-link">À propos</a>
              </li>
              <li class="nav-item-wrapper">
                <a href="courses.html" class="nav-link">Services</a>
              </li>
              
              <li class="nav-item-wrapper">
                <a href="blog.html" class="nav-link">Blogue</a>
              </li>
            </ul>
          </nav>
          <a href="contact.html" class="button-2 w-button">Demandez un tuteur</a>
          <div class="split-content header-left">
            <div class="menu-button w-nav-button">
              <div class="header-menu-button-icon-wrapper">
                <div class="icon-wrapper">
                  <div class="header-menu-button-icon-top"></div>
                  <div class="header-menu-button-icon-medium"></div>
                  <div class="header-menu-button-icon-bottom"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div data-w-id="408f018e-83dd-0452-3759-8e713481ddbc" class="section blog-post">
      <div class="container-default blog-post w-container">
        <div id="blog-main-image" class="image-wrapper blog-post-main-image"></div>
        <div class="bg blog-post-shape-1"></div>
      </div>
      <div class="container-medium-948px blog-post">
        <h1 id="blog-title" data-w-id="c393d7e9-71ac-1a23-f0ca-6426b164b487" style="opacity:1" class="title blog-post"></h1>
        <div data-w-id="3708fab3-b4db-4219-e8d9-0dfdb0afd53d" style="opacity:1" class="blog-post-about-wrapper">
          <div class="blog-post-author-link">
            <div class="blog-post-author-content">
              <div id="blog-author" class="blog-post-date"></div>
              <div id="blog-date" class="blog-post-date"></div>
            </div>
          </div>
          <div class="blog-post-about-right">
            <div class="blog-post-category-link">
              <div id="blog-category" class="blog-post-category-text"></div>
            </div>
          </div>
        </div>
        <div class="divider blog-post"></div>
        <div id="blog-content" data-w-id="b3b6c020-2599-a343-657d-a91d13b6e4e3" style="opacity:1" class="rich-text w-richtext"></div>
        <div class="bg blog-post-shape-2"></div>
      </div>
      <div class="bg blog-post"></div>
    </div>
    <div class="section bg-neutral-200 latest-posts">
      <div class="container-default w-container">
        <div data-w-id="0e8d3d47-c7a4-07e1-4ff9-c6513d01249d" style="opacity:0" class="content-top latest-posts">
          <div class="split-content latest-posts-left">
            <h2 class="title latest-posts">Articles récents</h2>
          </div>
          <div class="split-content latest-posts-right">
            <a href="blog.html" class="button-secondary w-button">Tous les articles</a>
          </div>
        </div>
        <!-- Related Posts (Firebase) -->
        <div id="related-posts-container" class="w-dyn-list">
          <div class="empty-state neutral-100 w-dyn-empty">
            <div>Chargement...</div>
          </div>
        </div>
      </div>
    </div>
    <footer class="footer">
      <div class="container-default w-container">
        <div data-w-id="a8d431a8-a9ac-99be-52c4-a36f3c980965" class="footer-content-top">
          <a href="index.html" class="footer-logo-container w-inline-block"><img src="images/logoreed_light.png" width="164" sizes="164px" srcset="images/logoreed_light-p-500.png 500w, images/logoreed_light-p-800.png 800w, images/logoreed_light.png 838w" alt="" class="footer-logo"></a>
          <p class="paragraph footer-content-top-paragraph">Votre ressource #1 pour le tutorat personnalisé</p>
        </div>
        <div class="divider footer-top"></div>
        <div data-w-id="9bc1b38a-8dc9-b6cd-b799-752e725ca470" class="footer-content">
          <div class="footer-newsletter-content">
            <div class="footer-newsletter-content-top"><img src="images/icon-newsletter-footer-education-x-template.svg" alt="Icône d'infolettre" class="image footer-newsletter-icon">
              <div class="footer-newsletter-title-wrapper">
                <h2 class="title h3-size footer-newsletter">Vous voulez en savoir plus ?</h2>
              </div>
            </div>
            <div class="footer-newsletter-form-block w-form">
              <form id="wf-form-Footer-Newsletter-Form" name="wf-form-Footer-Newsletter-Form" data-name="Footer Newsletter Form" action="contact.html" method="get" class="footer-newsletter-form" data-wf-page-id="673c0bf9babda2cdfd52d5e3" data-wf-element-id="80f67d97-1518-5356-1aea-33ba9e4a0483"><input type="submit" data-wait="Veuillez patienter..." class="button-primary footer-newsletter p11 w-button" value="Contactez-nous!"></form>
              <div class="success-message w-form-done">
                <div>Merci de vous être inscrit à notre infolettre.</div>
              </div>
              <div class="error-message w-form-fail">
                <div>Oups! Une erreur s'est produite.</div>
              </div>
            </div>
          </div>
          <div class="footer-nav-main-wrapper">
            <div class="footer-nav-wrapper pages">
              <div class="footer-nav-title">Pages</div>
              <div class="footer-nav-content">
                <ul role="list" class="footer-nav">
                  <li class="footer-nav-item">
                    <a href="index.html" class="footer-nav-link">Accueil</a>
                  </li>
                  <li class="footer-nav-item">
                    <a href="about.html" class="footer-nav-link">À propos</a>
                  </li>
                  <li class="footer-nav-item">
                    <a href="courses.html" class="footer-nav-link">Services</a>
                  </li>
                  <li class="footer-nav-item">
                    <a href="contact.html" class="footer-nav-link">Contactez-nous</a>
                  </li>
                  <li class="footer-nav-item-copy">
                    <a href="blog.html" class="footer-nav-link-copy">Blogue</a>
                  </li>
                  <li class="footer-nav-item-copy">
                    <a href="401.html" class="footer-nav-link-copy">Admin</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div class="divider footer-bottom"></div>
        <div data-w-id="34aa4df5-6fb5-7ed9-e9f5-dc4ee84a3f0e" class="footer-content-bottom">
          <div class="footer-small-print">Copyright © Centre D&#x27;Apprentissage L&#x27;Avenir</div>
          <div class="w-layout-grid footer-social-media-grid">
            <a href="https://www.facebook.com/profile.php?id=100067848874810" target="_blank" class="footer-social-media-link"></a>
            <a href="https://www.instagram.com/tutorat_avenir/" target="_blank" class="footer-social-media-link icon-17px"></a>
            <a href="https://ca.indeed.com/cmp/Centre-D&#x27;apprentissage-L&#x27;avenir?from=mobviewjob&amp;tk=1iklhhqfhm22584f&amp;fromjk=7b5c49613ae4bcb3&amp;attributionid=mobvjcmp" target="_blank" class="footer-social-media-link icon-16px"></a>
            <a href="tel:+14389332853" class="footer-social-media-link icon-17px"></a>
            <a href="mailto:direction@caavenir.com" class="footer-social-media-link icon-17px"></a>
          </div>
        </div>
      </div>
    </footer>
  </div>
  
  <!-- Firebase Banner Modal Popup (dynamically populated) -->
  <div id="banner-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="modal-title" class="modal-title"></h2>
        <button class="modal-close" onclick="closeBannerModal()" aria-label="Fermer">&times;</button>
      </div>
      <div class="modal-body">
        <div id="modal-image-container"></div>
        <div id="modal-text"></div>
      </div>
    </div>
  </div>
  
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
  
  <!-- Firebase Config & Helpers -->
  <script src="js/firebase-config.js"></script>
  <script src="js/firestore-helpers.js"></script>
  
  <!-- Your existing scripts -->
  <script src="js/minimal-interactions.js" type="text/javascript"></script>
  <script src="js/site.js" type="text/javascript"></script>
  
  <!-- Load Blog Article -->
  <script>
    // Banner functions
    function showBannerModal() {
      const modal = document.getElementById('banner-modal');
      if (modal) {
        modal.style.display = 'flex';
        document.body.style.overflow = 'hidden';
      }
    }
    
    function closeBannerModal() {
      const modal = document.getElementById('banner-modal');
      if (modal) {
        modal.style.display = 'none';
        document.body.style.overflow = '';
      }
    }
    
    document.getElementById('banner-modal').addEventListener('click', function(e) {
      if (e.target === this) {
        closeBannerModal();
      }
    });
    
    // Load banner
    async function loadFirebaseBanner() {
      try {
        const bannerData = await getActiveBannerMessage();
        
        if (bannerData) {
          const bannerDiv = document.getElementById('firebase-banner');
          bannerDiv.innerHTML = `⚠️ ${bannerData.shortMessage} : <a href="#" class="banner-learn-more" onclick="event.preventDefault(); showBannerModal();">En savoir plus</a>`;
          bannerDiv.style.display = 'block';
          
          document.getElementById('modal-title').textContent = bannerData.fullTitle || '';
          const imageContainer = document.getElementById('modal-image-container');
          if (bannerData.image) {
            imageContainer.innerHTML = `<img src="${bannerData.image}" alt="${bannerData.fullTitle}" class="modal-image">`;
          } else {
            imageContainer.innerHTML = '';
          }
          document.getElementById('modal-text').innerHTML = bannerData.fullText || '';
          window.currentBanner = bannerData;
        }
      } catch (error) {
        console.error('Error loading banner:', error);
      }
    }
    
    // Get slug from URL
    function getSlugFromURL() {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get('slug');
    }
    
    // Load blog article
    async function loadBlogArticle() {
      try {
        const slug = getSlugFromURL();
        
        if (!slug) {
          document.getElementById('blog-content').innerHTML = '<p>Article non trouvé. Veuillez retourner à la <a href="blog.html">page du blog</a>.</p>';
          return;
        }
        
        console.log('Loading article with slug:', slug);
        
        const article = await getBlogArticleBySlug(slug);
        
        if (!article) {
          document.getElementById('blog-content').innerHTML = '<p>Article non trouvé. Veuillez retourner à la <a href="blog.html">page du blog</a>.</p>';
          return;
        }
        
        console.log('Article loaded:', article);
        
        // Update page title
        document.title = article.title + ' - CA Avenir';
        
        // Display featured image
        const imageContainer = document.getElementById('blog-main-image');
        const imageUrl = getCategoryImage(article.category);
        imageContainer.innerHTML = `<img src="${imageUrl}" alt="${article.title}" class="image blog-post-main-image">`;
        
        // Display title
        document.getElementById('blog-title').textContent = article.title;
        
        // Display author
        document.getElementById('blog-author').textContent = article.author || 'CA Avenir';
        
        // Display date
        const publishDate = article.publishDate?.toDate ? 
          article.publishDate.toDate().toLocaleDateString('fr-FR', { year: 'numeric', month: 'long', day: 'numeric' }) : '';
        document.getElementById('blog-date').textContent = publishDate;
        
        // Display category
        document.getElementById('blog-category').textContent = article.category || '';
        
        // Display content
        document.getElementById('blog-content').innerHTML = article.content || article.excerpt || '';
        
        // Load related articles
        await loadRelatedArticles(article.category, article.id);
        
      } catch (error) {
        console.error('Error loading blog article:', error);
        document.getElementById('blog-content').innerHTML = '<p>Erreur lors du chargement de l\'article.</p>';
      }
    }
    
    // Load related articles
    async function loadRelatedArticles(category, currentArticleId) {
      try {
        const articles = await getBlogArticlesByCategory(category, 4);
        
        // Filter out current article and limit to 3
        const relatedArticles = articles.filter(a => a.id !== currentArticleId).slice(0, 3);
        
        const container = document.getElementById('related-posts-container');
        
        if (relatedArticles.length > 0) {
          let html = '<div role="list" class="latest-posts-grid w-dyn-items">';
          
          relatedArticles.forEach(article => {
            const date = article.publishDate?.toDate ? 
              article.publishDate.toDate().toLocaleDateString('fr-FR', { year: 'numeric', month: 'long', day: 'numeric' }) : '';
            const imageUrl = getCategoryImage(article.category);
            
            html += `
              <div data-w-id="baf40a28-d295-a55b-48ba-8d50bf1f2ed9" style="opacity:1" role="listitem" class="post-item w-dyn-item">
                <a href="detail_blog.html?slug=${article.slug}" class="card post w-inline-block">
                  <div class="image-wrapper card-post">
                    <img src="${imageUrl}" alt="${article.title}" class="image card-post">
                    <div class="card-post-category-wrapper">
                      <div>${article.category}</div>
                    </div>
                  </div>
                  <div class="card-post-content">
                    <div class="card-post-date">${date}</div>
                    <h3 class="title card-post">${article.title}</h3>
                  </div>
                </a>
              </div>
            `;
          });
          
          html += '</div>';
          container.innerHTML = html;
        } else {
          // If no related articles, show latest articles
          const latestArticles = await getBlogArticles(3);
          
          if (latestArticles.length > 0) {
            let html = '<div role="list" class="latest-posts-grid w-dyn-items">';
            
            latestArticles.forEach(article => {
              const date = article.publishDate?.toDate ? 
                article.publishDate.toDate().toLocaleDateString('fr-FR', { year: 'numeric', month: 'long', day: 'numeric' }) : '';
              const imageUrl = getCategoryImage(article.category);
              
              html += `
                <div data-w-id="baf40a28-d295-a55b-48ba-8d50bf1f2ed9" style="opacity:1" role="listitem" class="post-item w-dyn-item">
                  <a href="detail_blog.html?slug=${article.slug}" class="card post w-inline-block">
                    <div class="image-wrapper card-post">
                      <img src="${imageUrl}" alt="${article.title}" class="image card-post">
                      <div class="card-post-category-wrapper">
                        <div>${article.category}</div>
                      </div>
                    </div>
                    <div class="card-post-content">
                      <div class="card-post-date">${date}</div>
                      <h3 class="title card-post">${article.title}</h3>
                    </div>
                  </a>
                </div>
              `;
            });
            
            html += '</div>';
            container.innerHTML = html;
          }
        }
      } catch (error) {
        console.error('Error loading related articles:', error);
      }
    }
    
    // Load on page load
    document.addEventListener('DOMContentLoaded', function() {
      loadFirebaseBanner();
      loadBlogArticle();
    });
  </script>
</body>
</html>
